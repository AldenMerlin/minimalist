@import '../../node_modules/open-color/open-color.scss';

.mn-list {
  --color: $oc-gray-3;
  padding: 0;
  margin: 0;
  display: block;
  position: relative;
  list-style: none;

  .mn-item {
    padding: 1.6em 2em;
    box-sizing: border-box;
    box-shadow: inset 0 1px var(--color);
    color: inherit;
    text-decoration: none;
    outline: 0;
    background: none;
    font-size: inherit;
    width: 100%;
    text-align: inherit;
    line-height: 1.4em;
    flex-wrap: wrap;
    transition: background-color .2s ease;

    &:first-child {box-shadow: none}

    &.detail-visible {
      cursor: default;

      & > .mn-list {
        max-height: 1000px;
      }
    }
  }

  button.mn-item, a.mn-item, [ng-click].mn-item, .mn-item[collapse] {
    display: flex;
    cursor: pointer;

    &:last-child {
      border-bottom-left-radius: inherit;
      border-bottom-right-radius: inherit;
    }

    &:first-child {
      border-top-left-radius: inherit;
      border-top-right-radius: inherit;
    }

    &:not(.detail-visible) {
      &:hover, &:focus {
        background-color: $oc-gray-3;
      }
    }
  }

  .mn-list {transform: translateY(1em)}
}

.mn-item.detail-visible > .mn-item-detail {
  max-height: 1000px !important;
}

.mn-item .mn-list:not(.detail-visible) {
  display: block !important;
  flex: 0 1 100%;
  max-height: 0;
  overflow: hidden;
  transform: translateZ(0) translateY(1em);
  transition: max-height .3s ease;

  p {margin-bottom: 0}
}

.mn-list .mn-item[draggable] {
  cursor: move;
  transition: opacity .2s ease, background-color .2s ease;

  &.gu-transit {
    background-color: $oc-gray-1;
  }

  &.gu-transit {
    color: transparent;

    * {
      opacity: 0;
    }
  }
}

.gu-mirror {
  position: fixed;
  box-sizing: border-box;
  padding: 1.6em 2em;
  z-index: 9999;
  background: $oc-gray-1;
  opacity: 0.5;
  pointer-events: none;
  transition: background .2s ease;
}

.gu-hide {
  display: none !important;
}

.gu-unselectable {
  user-select: none !important;

  .gu-transit {pointer-events: none}
  .mn-item:hover > .mn-list {
    max-height: 1000px;
    min-height: 3.5em;
  }
}

.gu-transit {
  opacity: 1;
}
